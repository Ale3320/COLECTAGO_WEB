<div class="container my-4">

  <!-- Mensaje de error general -->
  <div *ngIf="errorMsg" class="alert alert-danger text-center">
    {{ errorMsg }}
  </div>

  <!-- Mensaje de éxito -->
  <div *ngIf="successMsg" class="alert alert-success text-center">
    {{ successMsg }}
  </div>

  <div class="row justify-content-center">
    <div class="col-12 col-lg-6">
      <div class="card shadow-sm">
        <div class="card-body">

          <!-- Título -->
          <h3 class="card-title mb-3 text-center fw-semibold">
            Realizar inversión
          </h3>

          <hr>

          <!-- Formulario -->
          <form [formGroup]="investmentForm" (ngSubmit)="createInvestment()">

            <!-- Campo monto -->
            <div class="mb-3">
              <label class="form-label fw-semibold">Monto a invertir (COP)</label>

              <input
                type="number"
                formControlName="amount"
                class="form-control"
                placeholder="Ej: 100000"
              />

              <!-- Validación -->
              <div
                *ngIf="
                  investmentForm.get('amount')?.touched &&
                  investmentForm.get('amount')?.invalid
                "
                class="text-danger small mt-1"
              >
                <div *ngIf="investmentForm.get('amount')?.errors?.['required']">
                  El monto es obligatorio.
                </div>

                <div *ngIf="investmentForm.get('amount')?.errors?.['min']">
                  El monto debe ser mayor a 0.
                </div>
              </div>
            </div>

            <!-- Botón -->
            <button
              class="btn btn-primary w-100"
              type="submit"
              [disabled]="investmentForm.invalid || loading"
            >
              {{ loading ? 'Procesando...' : 'Confirmar inversión' }}
            </button>

          </form>

          <hr />

          <!-- Acciones finales -->
          <div class="d-flex justify-content-center">
            <button
              class="btn btn-outline-secondary btn-sm"
              routerLink="/campaign/{{ campaignId }}"
            >
              ← Volver a campaña
            </button>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
